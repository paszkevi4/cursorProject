(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{130:function(e,t,a){e.exports=a.p+"static/media/logo_white.6a46e223.png"},152:function(e,t,a){e.exports=a(273)},157:function(e,t,a){},158:function(e,t,a){},173:function(e,t,a){},176:function(e,t,a){},271:function(e,t,a){},273:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),l=(a(157),a(18)),i=a(26),s=(a(158),a(21)),u=a(87),m=a.n(u),d=m.a.initializeApp({apiKey:"AIzaSyA6iqq4vvKN0xir5OLsSr5ItDH4KDMlnU8",authDomain:"money-tr4cker.firebaseapp.com",databaseURL:"https://money-tr4cker.firebaseio.com",projectId:"money-tr4cker",storageBucket:"money-tr4cker.appspot.com",messagingSenderId:"166713825950",appId:"1:166713825950:web:f89759e0d5b9519714398f",measurementId:"G-CN13J7CNRP"}).firestore(),g=(m.a.auth(),m.a.storage()),p={avatar:"https://www.flaticon.com/svg/static/icons/svg/527/527489.svg",userName:"Ivan",phoneNumber:"+380991234567",showWarning:!0,moneyLimit:800,percentLimit:40},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER":return Object(s.a)({},t.newUser);default:return e}},h=a(9),b=a(303),f=a(307),y=a(308),v=a(309),C=a(310),O=a(311),j=a(312),N=a(313),D=a(314),_=a(315),I=a(316),w=a(317),S=a(318),k=a(319),T=a(320),M=a(321),x=a(322),A=a(323),L=a(324),R=a(325),B=[r.a.createElement(b.a,null),r.a.createElement(f.a,null),r.a.createElement(y.a,null),r.a.createElement(v.a,null),r.a.createElement(C.a,null),r.a.createElement(O.a,null),r.a.createElement(j.a,null),r.a.createElement(N.a,null),r.a.createElement(D.a,null),r.a.createElement(_.a,null),r.a.createElement(I.a,null),r.a.createElement(w.a,null),r.a.createElement(S.a,null),r.a.createElement(k.a,null),r.a.createElement(T.a,null),r.a.createElement(M.a,null),r.a.createElement(x.a,null),r.a.createElement(A.a,null),r.a.createElement(L.a,null),r.a.createElement(R.a,null)],U=[],W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CHARGE_CATEGORIES":return Object(h.a)(t.categories);case"SET_CHARGE_CATEGORY":return[].concat(Object(h.a)(e),[t.category]);case"UPDATE_CHARGE_CATEGORY":return e.splice(t.index,1,t.category),Object(h.a)(e);case"DELETE_CHARGE_CATEGORY":return e.splice(t.index,1),Object(h.a)(e);default:return e}},H=[],F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_INCOME_CATEGORIES":return Object(h.a)(t.categories);case"CREATE_INCOME_CATEGORY":return[].concat(Object(h.a)(e),[t.category]);case"UPDATE_INCOME_CATEGORY":return e.splice(t.index,1,t.category),Object(h.a)(e);case"DELETE_INCOME_CATEGORY":return e.splice(t.index,1),Object(h.a)(e);default:return e}},P=[],G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CHARGES":return Object(h.a)(t.charges);case"CREATE_CHARGE":return[].concat(Object(h.a)(e),[t.charge]);case"UPDATE_CHARGE":return e.splice(t.index,1,t.charge),Object(h.a)(e);case"DELETE_CHARGE":return e.splice(t.index,1),Object(h.a)(e);case"SORT_CHARGES":if("Category"===t.sortingBy)return t.wasSorted?Object(h.a)(e.sort((function(e,t){return e.category.toUpperCase()<t.category.toUpperCase()?-1:1}))):Object(h.a)(e.sort((function(e,t){return e.category.toUpperCase()>t.category.toUpperCase()?-1:1})));if("Description"===t.sortingBy)return t.wasSorted?Object(h.a)(e.sort((function(e,t){var a,n;return(null===(a=e.description)||void 0===a?void 0:a.toUpperCase())<(null===(n=t.description)||void 0===n?void 0:n.toUpperCase())?-1:1}))):Object(h.a)(e.sort((function(e,t){var a,n;return(null===(a=e.description)||void 0===a?void 0:a.toUpperCase())>(null===(n=t.description)||void 0===n?void 0:n.toUpperCase())?-1:1})));if("Date"===t.sortingBy)return t.wasSorted?Object(h.a)(e.sort((function(e,t){return e.date.seconds<t.date.seconds?-1:1}))):Object(h.a)(e.sort((function(e,t){return e.date.seconds>t.date.seconds?-1:1})));if("Money"===t.sortingBy)return t.wasSorted?Object(h.a)(e.sort((function(e,t){return e.money<t.money?-1:1}))):Object(h.a)(e.sort((function(e,t){return e.money>t.money?-1:1})));default:return e}},z=[],Y=function(e){return{type:"FETCH_INCOMES",incomes:e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_INCOMES":return Object(h.a)(t.incomes);case"SET_INCOME":return[].concat(Object(h.a)(e),[t.income]);case"UPDATE_INCOME":return e.splice(t.index,1,t.income),Object(h.a)(e);case"DELETE_INCOME":return e.splice(t.index,1),Object(h.a)(e);case"SORT_INCOMES":if("Category"===t.sortingBy)return t.wasSorted?Object(h.a)(e.sort((function(e,t){return e.category.toUpperCase()<t.category.toUpperCase()?-1:1}))):Object(h.a)(e.sort((function(e,t){return e.category.toUpperCase()>t.category.toUpperCase()?-1:1})));if("Description"===t.sortingBy)return t.wasSorted?Object(h.a)(e.sort((function(e,t){var a,n;return(null===(a=e.description)||void 0===a?void 0:a.toUpperCase())<(null===(n=t.description)||void 0===n?void 0:n.toUpperCase())?-1:1}))):Object(h.a)(e.sort((function(e,t){var a,n;return(null===(a=e.description)||void 0===a?void 0:a.toUpperCase())>(null===(n=t.description)||void 0===n?void 0:n.toUpperCase())?-1:1})));if("Date"===t.sortingBy)return t.wasSorted?Object(h.a)(e.sort((function(e,t){return e.date.seconds<t.date.seconds?-1:1}))):Object(h.a)(e.sort((function(e,t){return e.date.seconds>t.date.seconds?-1:1})));if("Money"===t.sortingBy)return t.wasSorted?Object(h.a)(e.sort((function(e,t){return e.money<t.money?-1:1}))):Object(h.a)(e.sort((function(e,t){return e.money>t.money?-1:1})));default:return e}},V={initialized:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(s.a)(Object(s.a)({},e),{},{initialized:!0});default:return e}},q=a(23),Q=a(59),Z=a(129),X=Object(Q.c)({app:J,icons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return e},settings:E,incomes:K,charges:G,incomeCategories:F,chargeCategories:W}),$=Object(Q.d)(X,Object(Q.a)(Z.a));window.store=$.getState();var ee=$,te=(a(173),a(326)),ae=a(130),ne=a.n(ae),re=a(131),ce=a.n(re),oe=a(132),le=a.n(oe),ie=a(133),se=a.n(ie),ue=a(134),me=a.n(ue),de=function(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:ne.a,alt:"logo"}),r.a.createElement("h2",null,"Money Tracker")),r.a.createElement(te.a,null,r.a.createElement(i.b,{to:"/homepage",activeClassName:"active"},r.a.createElement("div",{className:"link-container"},r.a.createElement(ce.a,null),r.a.createElement("p",null,"Home"))),r.a.createElement(i.b,{to:"/charts",activeClassName:"active"},r.a.createElement("div",{className:"link-container"},r.a.createElement(le.a,null),r.a.createElement("p",null,"Charts"))),r.a.createElement(i.b,{to:"/categories",activeClassName:"active"},r.a.createElement("div",{className:"link-container"},r.a.createElement(se.a,null),r.a.createElement("p",null,"Categories"))),r.a.createElement(i.b,{to:"/settings",activeClassName:"active"},r.a.createElement("div",{className:"link-container"},r.a.createElement(me.a,null),r.a.createElement("p",null,"Settings")))))},ge=(a(176),a(274)),pe=a(329),Ee=a(7),he=a(138),be=a(346),fe=a(330),ye=a(331),ve=a(343),Ce=a(348),Oe=a(333),je=a(347),Ne=a(344),De={window:{minWidth:"350px"},iconSelect:{color:"grey"},nameSelect:{color:"grey"},iconPicker:{color:"grey"},chargeConfirm:{zIndex:"999999999"}},_e={sectionToggle:{display:"flex",marginBottom:"20px"},toggleButton:{textDecoration:"none",color:"inherit",letterSpacing:"1px"},toggleButtonActive:{borderBottom:"1px solid cornflowerblue"}},Ie={categoryNameBlock:{display:"flex",alignItems:"center"},categoryIcon:{display:"flex",marginRight:"10px",color:"grey"},categoryName:{display:"flex"}},we={table:{minWidth:300},tableWrapper:{boxShadow:"10px 10px 20px -7px rgba(0, 0, 0)",borderRadius:"25px"},tableHead:{background:"linear-gradient(20deg,#00ffff,#ccffff)"},addButtonWrapper:{display:"flex",justifyContent:"flex-end",paddingBottom:"20px"},homeMenu:{display:"flex",justifyContent:"space-between",margin:"20px 0",height:"40px"},homeSelect:{display:"flex",alignItems:"center"},homeMenuTitle:{marginRight:"20px"}};function Se(e){return r.a.createElement(Ne.a,Object.assign({elevation:6,variant:"filled"},e))}var ke=Object(pe.a)(De),Te=Object(q.b)((function(e){return{showWarning:e.settings.showWarning,moneyLimit:e.settings.moneyLimit,percentLimit:e.settings.percentLimit}}),null)((function(e){var t=e.open,a=e.handleClose,c=(e.createCharge,e.currentTable),o=void 0===c?{currentCategory:"",currentName:"",currentDescription:"",currentDate:"",currentMoney:"",currentIcon:""}:c,l=e.updateCharge,i=(e.charges,e.chargeCategories),s=e.total,u=e.totalIncome,m=Object(he.a)(e,["open","handleClose","createCharge","currentTable","updateCharge","charges","chargeCategories","total","totalIncome"]),d=ke(),g=new Date,p={currentDate:"".concat(g.getFullYear(),"-").concat(g.getMonth()+1<10?"0".concat(g.getMonth()+1):g.getMonth()+1,"-").concat(g.getDate())},E=Object(n.useState)("".concat(o.currentName)),h=Object(Ee.a)(E,2),b=h[0],f=h[1],y=Object(n.useState)(o.currentCategory),v=Object(Ee.a)(y,2),C=v[0],O=v[1],j=Object(n.useState)(o.currentDescription),N=Object(Ee.a)(j,2),D=N[0],_=N[1],I=Object(n.useState)(o.currentDate?o.currentDate:p.currentDate),w=Object(Ee.a)(I,2),S=w[0],k=w[1],T=Object(n.useState)(o.currentMoney),M=Object(Ee.a)(T,2),x=M[0],A=M[1],L=Object(n.useState)(!1),R=Object(Ee.a)(L,2),B=R[0],U=R[1],W=function(){f(""),O(""),_(""),k(p.currentDate),A("")},H=function(){var e=s-+x,t=(s-+x)/u*100;if(C&&x>0&&x&&10===S.length){if(m.showWarning&&(e<=m.moneyLimit||t<m.percentLimit)){if(window.confirm("Are you sure?")){var n={category:C,description:D,date:new Date(S),money:+x};l(n),a(),W(),G()}return null}l({category:C,description:D,date:new Date(S),money:+x}),a(),W(),G()}},F=function(e){"ADD"===e.target.innerText?H():"CANCEL"===e.target.innerText&&(a(),W())},P=function(e){"selectName"===e.target.id?f(e.target.value):"descriptionInput"===e.target.id?(_(e.target.value),13===e.keyCode&&H()):"datePicker"===e.target.id?(k(e.target.value),13===e.keyCode&&H()):"moneyInput"===e.target.id?(A(e.target.value),13===e.keyCode&&H()):O(e.target.value)},G=function(){U(!0)},z=function(e,t){"clickaway"!==t&&U(!1)};return r.a.createElement("div",null,r.a.createElement(be.a,{open:t,onClose:a,"aria-labelledby":"add-charge-title","aria-describedby":"add-charge-description"},r.a.createElement(fe.a,{id:"add-charge-title"},"ADD NEW ITEM"),r.a.createElement(ye.a,{className:d.window},r.a.createElement("div",{className:d.pickerBlock},r.a.createElement(ve.a,{className:d.datePicker,margin:"dense",id:"datePicker",label:"Current date*",type:"date",fullWidth:!0,onChange:P,value:S,error:10!==S.length})),r.a.createElement("div",null,r.a.createElement(ve.a,{autoFocus:!0,id:"selectName",select:!0,margin:"dense",label:"Category name*",selected:b,value:C,onChange:P,error:C.length<1,fullWidth:!0},[i.map((function(e,t){return r.a.createElement(Ce.a,{key:t,value:e.docId,className:d.nameSelect},e.name)}))])),r.a.createElement("div",null,r.a.createElement(ve.a,{margin:"dense",id:"descriptionInput",label:"Category description",type:"text",fullWidth:!0,onChange:P,onKeyUp:P,value:D})),r.a.createElement("div",null,r.a.createElement(ve.a,{className:d.moneyInput,margin:"dense",id:"moneyInput",label:"Current money*",input:!0,value:x,type:"number",fullWidth:!0,onChange:P,onKeyUp:P,error:x<=0}))),r.a.createElement(Oe.a,null,r.a.createElement(ge.a,{onClick:F,color:"primary"},"Cancel"),r.a.createElement(ge.a,{onClick:F,color:"primary",autoFocus:!0},"Add"))),r.a.createElement(je.a,{open:B,autoHideDuration:4e3,onClose:z},r.a.createElement(Se,{onClose:z,severity:"success"},"Added successfully")))})),Me=a(335),xe=a(336),Ae=a(137),Le=a(86),Re=a.n(Le),Be=a(334),Ue=Object(pe.a)(Ie),We=function(e){var t=e.icon,a=void 0===t?r.a.createElement(Be.a,null):t,c=e.name,o=void 0===c?"deleted category":c,l=e.description,i=e.date,s=e.money,u=e.deleteMoney,m=e.updateCharge,d=e.charges,g=e.chargeCategories,p=e.avatar,E=e.category,h=e.total,b=e.totalIncome,f=Ue(),y=Object(n.useState)(null),v=Object(Ee.a)(y,2),C=v[0],O=v[1],j=Object(n.useState)(!1),N=Object(Ee.a)(j,2),D=N[0],_=N[1],I=new Date(1e3*(null===i||void 0===i?void 0:i.seconds)),w={year:I.getFullYear(),month:I.getMonth()+1<10?"0".concat(I.getMonth()+1):I.getMonth()+1,day:I.getDate()<10?"0".concat(I.getDate()):I.getDate()},S=Object(n.useState)({currentName:o,currentDescription:l,currentIcon:a,currentMoney:s,currentDate:null,currentCategory:E}),k=Object(Ee.a)(S,2),T=k[0],M=k[1],x=function(e){"Delete"===e.target.innerText?u():"Edit"===e.target.innerText&&(_(!0),M({currentName:o,currentCategory:E,currentDescription:l,currentIcon:a,currentMoney:s,currentDate:"".concat(w.year,"-").concat(w.month,"-").concat(w.day)})),O(null)};return r.a.createElement(Me.a,null,r.a.createElement(xe.a,{component:"th",scope:"row"},r.a.createElement("div",{className:f.categoryNameBlock},r.a.createElement("div",{className:f.categoryIcon},a),r.a.createElement("div",{className:f.categoryName},o))),r.a.createElement(xe.a,null,l),r.a.createElement(xe.a,null,"".concat(w.day,".").concat(w.month,".").concat(w.year)),r.a.createElement(xe.a,null,s),r.a.createElement(xe.a,null,r.a.createElement("img",{src:"".concat(p),alt:"avatar",className:"avatar"})),r.a.createElement(xe.a,null,r.a.createElement(ge.a,{"aria-controls":"home-menu","aria-haspopup":"true",onClick:function(e){O(e.currentTarget),console.log(e.target.closest("th"))},size:"small"},r.a.createElement(Re.a,{color:"action"})),r.a.createElement(Ae.a,{id:"home-menu",anchorEl:C,keepMounted:!0,open:Boolean(C),onClose:x},r.a.createElement(Ce.a,{onClick:x},"Edit"),r.a.createElement(Ce.a,{onClick:x},"Delete"),D&&r.a.createElement(Te,{open:D,handleClose:function(){_(!1)},currentTable:T,updateCharge:m,charges:d,chargeCategories:g,total:h,totalIncome:b}))))},He=function(e){d.collection("charges1").add(e).catch((function(e){console.error("Error: ",e)}))},Fe=a(337),Pe=a(327),Ge=a(338),ze=a(339),Ye=a(340),Ke=a(41),Ve=a.n(Ke),Je=Object(pe.a)(we),qe=function(e){var t=Je(),a=Object(n.useState)(!1),c=Object(Ee.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(e.charges),s=Object(Ee.a)(i,2),u=s[0],m=s[1],g=Object(n.useState)("FULL_PERIOD"),p=Object(Ee.a)(g,2),E=p[0],b=p[1];window.filteredBy=E,Object(n.useEffect)((function(){f(E)}),[e.charges,E]);var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FULL_PERIOD";if(7===+t||30===+t){var a=24*+t*60*60*1e3,n=new Date,r=n.setTime(n.getTime()-a);return m(e.charges.filter((function(e){return 1e3*e.date.seconds>r})))}if("FULL_PERIOD"===t)return m(Object(h.a)(e.charges))},y=Object(n.useState)(!1),v=Object(Ee.a)(y,2),C=v[0],O=v[1],j=Object(n.useState)(!1),N=Object(Ee.a)(j,2),D=N[0],_=N[1],I=Object(n.useState)(!1),w=Object(Ee.a)(I,2),S=w[0],k=w[1],T=Object(n.useState)(!1),M=Object(Ee.a)(T,2),x=M[0],A=M[1],L=function(t){"Category"===t.target.innerText?(e.sortCharges("Category",C,u),O(!C)):"Date"===t.target.innerText?(e.sortCharges("Date",D,u),_(!D)):"Description"===t.target.innerText?(e.sortCharges("Description",S,u),k(!S)):"Money"===t.target.innerText&&(e.sortCharges("Money",x,u),A(!x))};return r.a.createElement("div",null,r.a.createElement("div",{className:t.homeMenu},r.a.createElement("div",{className:t.homeSelect},r.a.createElement("h3",{className:t.homeMenuTitle},"My Charges"),r.a.createElement("select",{id:"datePeriod",name:"datePeriod",onChange:function(e){return b(e.target.value)},className:"btn btn-sm btn-outline-secondary dropdown-toggle",defaultValue:"FULL_PERIOD"},r.a.createElement("option",{value:"7"},"This Week"),r.a.createElement("option",{value:"30"},"This Month"),r.a.createElement("option",{value:"FULL_PERIOD"},"Full period"))),r.a.createElement(ge.a,{className:t.addButton,type:"button",onClick:function(){l(!0)},variant:"contained",color:"primary",startIcon:r.a.createElement(Ve.a,null)},"Add more")),r.a.createElement(Te,{open:o,handleClose:function(){l(!1)},updateCharge:He,charges:e.charges,chargeCategories:e.categories,total:e.total,totalIncome:e.totalIncome}),r.a.createElement(Fe.a,{component:Pe.a,className:t.tableWrapper},r.a.createElement(Ge.a,{className:t.table,"aria-label":"Table of Charges"},r.a.createElement(ze.a,{className:t.tableHead},r.a.createElement(Me.a,null,r.a.createElement(xe.a,{className:"table-direct"},r.a.createElement("button",{type:"button",onClick:L}," ","Category")),r.a.createElement(xe.a,{className:"table-direct"},r.a.createElement("button",{type:"button",onClick:L}," ","Description")),r.a.createElement(xe.a,{className:"table-direct"},r.a.createElement("button",{type:"button",onClick:L}," ","Date")),r.a.createElement(xe.a,{className:"table-direct"},r.a.createElement("button",{type:"button",onClick:L}," ","Money")),r.a.createElement(xe.a,null,"Avatar"),r.a.createElement(xe.a,null,"Action"))),r.a.createElement(Ye.a,null,[u.map((function(t,a){var n,c;return r.a.createElement(We,{category:t.category,icon:null===(n=e.categories.find((function(e){return e.docId===t.category})))||void 0===n?void 0:n.icon,name:null===(c=e.categories.find((function(e){return e.docId===t.category})))||void 0===c?void 0:c.name,description:t.description,date:t.date,money:t.money,key:a,avatar:e.avatar,deleteMoney:function(){var e;e=t.docId,d.collection("charges1").doc(e).delete().catch((function(e){console.error("Error: ",e)}))},updateCharge:function(e){var a,n;a=t.docId,n=e,d.collection("charges1").doc(a).set(n).catch((function(e){console.error("Error: ",e)}))},charges:e.charges,chargeCategories:e.categories,total:e.total,totalIncome:e.totalIncome})}))]))))},Qe=function(e){d.collection("incomes1").add(e).catch((function(e){console.error("Error: ",e)}))},Ze=Object(pe.a)(we),Xe=Object(q.b)(null,{fetchIncomesAC:Y})((function(e){var t=Ze(),a=Object(n.useState)(!1),c=Object(Ee.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),s=Object(Ee.a)(i,2),u=s[0],m=s[1],g=Object(n.useState)(!1),p=Object(Ee.a)(g,2),E=p[0],h=p[1],b=Object(n.useState)(!1),f=Object(Ee.a)(b,2),y=f[0],v=f[1],C=Object(n.useState)(!1),O=Object(Ee.a)(C,2),j=O[0],N=O[1],D=function(t){"Category"===t.target.innerText?(e.sortIncomes("Category",u),m(!u)):"Date"===t.target.innerText?(e.sortIncomes("Date",E),h(!E)):"Description"===t.target.innerText?(e.sortIncomes("Description",y),v(!y)):"Money"===t.target.innerText&&(e.sortIncomes("Money",j),N(!j))},_=r.a.useState(e.incomes),I=Object(Ee.a)(_,2),w=I[0],S=I[1],k=r.a.useState("FULL_PERIOD"),T=Object(Ee.a)(k,2),M=T[0],x=T[1];Object(n.useEffect)((function(){A(M)}),[e.incomes,M]);var A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FULL_PERIOD";if(7===+t||30===+t){var a=24*+t*60*60*1e3,n=new Date,r=n.setTime(n.getTime()-a);S(e.incomes.filter((function(e){return 1e3*e.date.seconds>r})))}else if("FULL_PERIOD"===t)return S(e.incomes)};return r.a.createElement("div",null,r.a.createElement("div",{className:t.homeMenu},r.a.createElement("div",{className:t.homeSelect},r.a.createElement("h3",{className:t.homeMenuTitle},"My Incomes"),r.a.createElement("select",{id:"datePeriod",name:"datePeriod",onChange:function(e){return x(e.target.value)},className:"btn btn-sm btn-outline-secondary dropdown-toggle",defaultValue:"FULL_PERIOD"},r.a.createElement("option",{value:"7"},"This Week"),r.a.createElement("option",{value:"30"},"This Month"),r.a.createElement("option",{value:"FULL_PERIOD"},"Full period"))),r.a.createElement(ge.a,{className:t.addButton,type:"button",onClick:function(){l(!0)},variant:"contained",color:"primary",startIcon:r.a.createElement(Ve.a,null)},"Add more")),r.a.createElement(Te,{open:o,handleClose:function(){l(!1)},updateCharge:Qe,charges:e.incomes,chargeCategories:e.categories}),r.a.createElement(Fe.a,{component:Pe.a,className:t.tableWrapper},r.a.createElement(Ge.a,{className:t.table,"aria-label":"Table of Incomes"},r.a.createElement(ze.a,{className:t.tableHead},r.a.createElement(Me.a,null,r.a.createElement(xe.a,{className:"table-direct"},r.a.createElement("button",{type:"button",onClick:D}," ","Category")),r.a.createElement(xe.a,{className:"table-direct"},r.a.createElement("button",{type:"button",onClick:D}," ","Description")),r.a.createElement(xe.a,{className:"table-direct"},r.a.createElement("button",{type:"button",onClick:D},"Date")),r.a.createElement(xe.a,{className:"table-direct"},r.a.createElement("button",{type:"button",onClick:D}," ","Money")),r.a.createElement(xe.a,{className:"table-direct"},"Avatar"),r.a.createElement(xe.a,{className:"table-direct"},"Action"))),r.a.createElement(Ye.a,null,[w.map((function(t,a){var n,c;return r.a.createElement(We,{category:t.category,icon:null===(n=e.categories.find((function(e){return e.docId===t.category})))||void 0===n?void 0:n.icon,name:null===(c=e.categories.find((function(e){return e.docId===t.category})))||void 0===c?void 0:c.name,description:t.description,date:t.date,money:t.money,key:a,avatar:e.avatar,deleteMoney:function(){var e;e=t.docId,d.collection("incomes1").doc(e).delete().catch((function(e){console.error("Error: ",e)}))},updateCharge:function(e){var a,n;a=t.docId,n=e,d.collection("incomes1").doc(a).set(n).catch((function(e){console.error("Error: ",e)}))},charges:e.incomes,chargeCategories:e.categories})}))]))))})),$e=function(e,t){return et(e)-tt(t)},et=function(e){return e.reduce((function(e,t){return e+t.money}),0)},tt=function(e){return e.reduce((function(e,t){return e+t.money}),0)},at=a(53),nt=a.n(at),rt=function(e){var t=Object(n.useState)(0),a=Object(Ee.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(0),i=Object(Ee.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(Ee.a)(m,2),g=d[0],p=d[1];return Object(n.useEffect)((function(){o(et(e.incomes))}),[e.incomes]),Object(n.useEffect)((function(){u($e(e.incomes,e.charges))}),[e]),Object(n.useEffect)((function(){e.settings.showWarning&&(s<e.settings.moneyLimit||s/c*100<e.settings.percentLimit)?p(!0):p(!1)}),[s,c,e]),r.a.createElement("div",{className:"".concat(nt.a.header," ").concat(g?nt.a.header__warning:"")},r.a.createElement("div",{className:nt.a.header_category},r.a.createElement("h2",null,e.title)),g&&r.a.createElement("p",null,"Be aware of low budget"),r.a.createElement("div",{className:nt.a.header_balance},r.a.createElement("h2",{className:nt.a.header_balance__title},"Balance"),r.a.createElement("h1",{className:nt.a.header_balance__amount},s.toLocaleString("en-US",{style:"currency",currency:"USD"}))))},ct=Object(q.b)((function(e){return{settings:e.settings,incomes:e.incomes,charges:e.charges}}),(function(e){return{}}))(rt),ot=Object(pe.a)(_e),lt=function(e){var t=ot();return r.a.createElement(i.a,null,r.a.createElement("div",{className:t.home},r.a.createElement(ct,{title:"Homepage"}),r.a.createElement("div",{className:t.sectionToggle},r.a.createElement(ge.a,{color:"primary"},r.a.createElement(i.b,{to:"/homepage/charges",className:t.toggleButton,activeClassName:t.toggleButtonActive},"Charges")),r.a.createElement(ge.a,{color:"primary"},r.a.createElement(i.b,{to:"/homepage/incomes",className:t.toggleButton,activeClassName:t.toggleButtonActive},"Incomes"))),r.a.createElement("div",null,r.a.createElement(l.b,{exact:!0,path:"/homepage/"},r.a.createElement(l.a,{to:"/homepage/charges"})),r.a.createElement(l.b,{path:"/homepage/charges",render:function(){return r.a.createElement(qe,{charges:e.charges,categories:e.chargeCategories,deleteMoney:e.deleteCharge,updateCharge:e.updateCharge,createCharge:e.createCharge,sortCharges:e.sortCharges,avatar:e.avatar,total:$e(e.incomes,e.charges),totalIncome:et(e.incomes)})}}),r.a.createElement(l.b,{path:"/homepage/incomes",render:function(){return r.a.createElement(Xe,{incomes:e.incomes,categories:e.incomeCategories,deleteMoney:e.deleteIncome,updateIncome:e.updateIncome,createIncome:e.createIncome,avatar:e.avatar,sortIncomes:e.sortIncomes})}}))))},it=Object(q.b)((function(e){return{icons:e.icons,avatar:e.settings.avatar,incomeCategories:e.incomeCategories,chargeCategories:e.chargeCategories,incomes:e.incomes,charges:e.charges}}),(function(e){return{createIncome:function(t){e(function(e){return{type:"SET_INCOME",income:e}}(t))},updateIncome:function(t,a){e(function(e,t){return{type:"UPDATE_INCOME",income:t,index:e}}(t,a))},deleteIncome:function(t){e(function(e){return{type:"DELETE_INCOME",index:e}}(t))},createCharge:function(t){e(function(e){return{type:"CREATE_CHARGE",charge:e}}(t))},updateCharge:function(t,a){e(function(e,t){return{type:"UPDATE_CHARGE",charge:t,index:e}}(t,a))},deleteCharge:function(t){e(function(e){return{type:"DELETE_CHARGE",index:e}}(t))},sortCharges:function(t,a){e(function(e,t){return{type:"SORT_CHARGES",sortingBy:e,wasSorted:t}}(t,a))},sortIncomes:function(t,a){e(function(e,t){return{type:"SORT_INCOMES",sortingBy:e,wasSorted:t}}(t,a))}}}))(lt),st=a(69),ut=(a(271),Object(pe.a)({root:{marginLeft:"3%",width:"150px"},label:{textTransform:"capitalize"}})),mt=function(e){for(var t=e.incomes,a=e.charges,c=e.incomeCategories,o=e.chargeCategories,l=Object(n.useState)(8),i=Object(Ee.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!0),d=Object(Ee.a)(m,2),g=d[0],p=d[1],E=Object(n.useState)(!0),h=Object(Ee.a)(E,2),b=h[0],f=h[1],y=function(){return u(8)},v=function(){return u(31)},C=function(){return p(!g)},O=function(){return f(!b)},j=[],N=[],D=[],_=[],I=[],w=[],S=[],k=[],T=[],M=[],x=[],A=[],L=[],R=[],B=0,U=0,W=0,H=0,F=0;F<s-1;F++)j.push(new Date(Date.now()-1e3*F*3600*24).toLocaleDateString().slice(0,5)),N.push(Date.now()-1e3*F*3600*24);j.reverse(),N.reverse(),N.map((function(e){return D.push(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(e).getDay()]),D}));var P=c.slice(),G=o.slice();P.forEach((function(e,t){e.id=e.docId,e.sum=0})),G.forEach((function(e,t){e.id=e.docId,e.sum=0})),t.map((function(e){R.push(+e.money),Math.ceil(Math.abs(new Date(1e3*e.date).getDate()-(new Date).getDate())<s)&&(S.push(e),M.push(e.money),R.push(+e.money),P.find((function(t){return t.docId===e.category}))&&(P.find((function(t){return t.docId===e.category})).sum+=e.money)),Math.ceil(Math.abs(new Date(1e3*e.date).getDate()-(new Date).getDate())<8)&&(B+=e.money),Math.ceil(Math.abs(new Date(1e3*e.date).getDate()-(new Date).getDate()))>=8&&Math.ceil(Math.abs(new Date(1e3*e.date).getDate()-(new Date).getDate()))<15&&(U+=e.money)})),a.map((function(e){Math.ceil(Math.abs(new Date(1e3*e.date).getDate()-(new Date).getDate())<s)&&(w.push(e),x.push(e.money),R.push(+e.money),G.find((function(t){return t.docId===e.category}))&&(G.find((function(t){return t.docId===e.category})).sum+=e.money)),Math.ceil(Math.abs(new Date(1e3*e.date).getDate()-(new Date).getDate())<8)&&(W+=e.money),Math.ceil(Math.abs(new Date(1e3*e.date).getDate()-(new Date).getDate()))>=8&&Math.ceil(Math.abs(new Date(1e3*e.date).getDate()-(new Date).getDate()))<15&&(H+=e.money)})),j.forEach((function(e){var t=0,a=0,n=S.filter((function(t){return new Date(1e3*t.date).getDate()==e.slice(0,2)})),r=w.filter((function(t){return new Date(1e3*t.date).getDate()==e.slice(0,2)}));n?(n.map((function(e){t+=e.money})),A.push(t)):A.push(0),r?(r.map((function(e){a+=e.money})),L.push(a)):L.push(0)})),P.map((function(e){e.sum>0&&(_.push(e.name),T.push(e.sum))})),G.map((function(e){e.sum>0&&(I.push(e.name),k.push(e.sum))}));var z=Math.max.apply(Math,R),Y=Math.min.apply(Math,R),K=B>U?B-U+B:0,V=W>H?W-H+W:0,J={labels:8===s?D:j,datasets:[{label:"Incomes",lineTension:.5,backgroundColor:"rgb(0,0,0,0)",borderColor:"rgb(93,143,238)",hoverBorderColor:"rgba(0,0,0,0)",borderWidth:4,pointBackgroundColor:"rgb(93,143,238)",pointBorderColor:"rgb(93,143,238)",data:g?A:null},{label:"Charges",lineTension:.5,backgroundColor:"rgb(254,132,2)",borderColor:"rgb(254,132,2)",hoverBorderColor:"rgba(0,0,0,0)",borderWidth:4,borderDash:[15,5],pointBackgroundColor:"rgb(254,132,2)",pointBorderColor:"rgb(254,132,2)",data:b?L:null,fill:!1}]},q={title:{display:!0,text:"Summary",position:"top",fontSize:20},legend:{display:!1},scales:{yAxes:[{display:!1,ticks:{suggestedMin:Y,suggestedMax:z},gridLines:{display:!1}}],xAxes:[{gridLines:{display:!1}}]},maintainAspectRatio:!1},Q={labels:_,datasets:[{backgroundColor:"white",hoverBackgroundColor:"rgba(75,192,192,0.6)",borderColor:"rgba(0,0,0,1)",borderWidth:0,barPercentage:.4,data:T}]},Z={labels:I,datasets:[{backgroundColor:["#f6ea67","#ef878d","#38ef7d","#94ecde","#ffc7bb"],hoverBackgroundColor:["#ecc22e","#fa9dbe","#35bb61","#06c0da","#ef8270"],borderWidth:0,data:k}]},X={labels:["Penultimate week","Last week","Future week"],datasets:[{label:"Incomes",fill:!1,borderColor:"rgb(93,143,238)",hoverBorderColor:"rgba(0,0,0,0)",borderWidth:4,pointBackgroundColor:"rgb(93,143,238)",pointBorderColor:"rgb(93,143,238)",data:[Math.round(U),Math.round(B),Math.round(K)]},{label:"Charges",fill:!1,backgroundColor:"rgb(254,132,2)",borderColor:"rgb(254,132,2)",hoverBorderColor:"rgba(0,0,0,0)",borderWidth:4,pointBackgroundColor:"rgb(254,132,2)",pointBorderColor:"rgb(254,132,2)",data:[Math.round(H),Math.round(W),Math.round(V)]}]},$=ut();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"charts"},r.a.createElement("div",{className:"line-chart__container"},r.a.createElement("div",{className:"line-chart"},r.a.createElement(st.Line,{data:J,options:q})),r.a.createElement("div",{className:"chart-buttons"},r.a.createElement("div",{className:"chart-buttons__btn"},r.a.createElement(ge.a,{variant:"outlined",className:31===s?"btn-active":null,classes:{root:$.root,label:$.label},onClick:v},"Month"),r.a.createElement(ge.a,{variant:"outlined",className:8===s?"btn-active":null,classes:{root:$.root,label:$.label},onClick:y},"Week")),r.a.createElement("div",{className:"chart-buttons__checkbox"},r.a.createElement("span",null,r.a.createElement("input",{type:"checkbox",id:"show-in",onChange:C,defaultChecked:!0}),r.a.createElement("label",{className:g?"":"non-active",htmlFor:"show-in"},"Incomes")),r.a.createElement("span",null,r.a.createElement("input",{type:"checkbox",id:"show-out",onChange:O,defaultChecked:!0}),r.a.createElement("label",{className:b?"":"non-active",htmlFor:"show-out"},"Charges"))))),r.a.createElement("div",{className:"buttons_separated"},r.a.createElement("div",{className:"buttons_btn__separated"},r.a.createElement(ge.a,{variant:"outlined",className:31===s?"btn-active":null,classes:{root:$.root,label:$.label},onClick:v},"Month"),r.a.createElement(ge.a,{variant:"outlined",className:8===s?"btn-active":null,classes:{root:$.root,label:$.label},onClick:y},"Week")),r.a.createElement("div",{className:"buttons_checkbox__separated"},r.a.createElement("span",null,r.a.createElement("input",{type:"checkbox",id:"show-in",onChange:C,defaultChecked:!0}),r.a.createElement("label",{className:g?"":"non-active",htmlFor:"show-in"},"Incomes")),r.a.createElement("span",null,r.a.createElement("input",{type:"checkbox",id:"show-out",onChange:O,defaultChecked:!0}),r.a.createElement("label",{className:b?"":"non-active",htmlFor:"show-out"},"Charges")))),r.a.createElement("div",{className:"bar-chart"},r.a.createElement(st.Bar,{data:Q,options:{title:{display:!0,text:"Income categories",fontSize:20,fontColor:"white"},legend:{display:!1},scales:{yAxes:[{ticks:{suggestedMin:0,suggestedMax:500,fontColor:"white"},gridLines:{display:!1}}],xAxes:[{ticks:{fontColor:"white"},gridLines:{display:!1}}]},maintainAspectRatio:!1}})),r.a.createElement("div",{className:"doughnut-chart"},r.a.createElement(st.Doughnut,{data:Z,options:{title:{display:!0,text:"Charges categories",fontSize:20,fontColor:"white"},legend:{display:!0,position:"right",labels:{fontColor:"white"}},maintainAspectRatio:!1}})),r.a.createElement("div",{className:"forecast__container"},r.a.createElement("div",{className:"forecast-chart"},r.a.createElement(st.Line,{data:X,options:{title:{display:!0,text:"Forecast for incomes and charges",fontSize:20},legend:{display:!0,position:"right"},scales:{yAxes:[{gridLines:{display:!1}}],xAxes:[{gridLines:{display:!1}}]},maintainAspectRatio:!1}})),r.a.createElement("div",{className:"forecast_descr"},r.a.createElement("h3",null,"Your budget has changed in the last week"),r.a.createElement("p",null,"If this continues, your incomes will"," ",r.a.createElement("span",null,B<U?"decrease":"increase")," ","and charges will"," ",r.a.createElement("span",null,W<H?"decrease":"increase"),".")))))},dt=Object(q.b)((function(e){return{incomes:e.incomes,charges:e.charges,incomeCategories:e.incomeCategories,chargeCategories:e.chargeCategories}}),(function(e){return{}}))(mt);function gt(e){return r.a.createElement(Ne.a,Object.assign({elevation:6,variant:"filled"},e))}var pt=Object(pe.a)(De),Et=function(e){var t=e.open,a=e.handleClose,c=e.currentCategory,o=void 0===c?{currentName:"",currentDescription:"",currentDate:"",currentIcon:""}:c,l=e.updateCategory,i=e.icons,s=pt(),u=new Date,m={currentDate:"".concat(u.getFullYear(),"-").concat(u.getMonth()+1<10?"0".concat(u.getMonth()+1):u.getMonth()+1,"-").concat(u.getDate())},d=Object(n.useState)("".concat(o.currentName)),g=Object(Ee.a)(d,2),p=g[0],E=g[1],b=Object(n.useState)(o.currentDescription),f=Object(Ee.a)(b,2),y=f[0],v=f[1],C=Object(n.useState)(o.currentDate?o.currentDate:m.currentDate),O=Object(Ee.a)(C,2),j=O[0],N=O[1],D=Object(n.useState)(o.currentIcon),_=Object(Ee.a)(D,2),I=_[0],w=_[1],S=function(){E(""),v(""),N(m.currentDate),w("")},k=function(){p.length>=3&&p&&"object"!==I&&I&&10===j.length&&(l({name:p,description:y,date:new Date(j),icon:i.indexOf(I)}),a(),S(),B())},T=function(e){"ADD"===e.target.innerText?k():"CANCEL"===e.target.innerText&&(a(),S())},M=function(e){"nameInput"===e.target.id?(E(e.target.value),13===e.keyCode&&k()):"descriptionInput"===e.target.id?(v(e.target.value),13===e.keyCode&&k()):"datePicker"===e.target.id?N(e.target.value):"object"===typeof e.target.value&&w(e.target.value)},x=Object(n.useState)(!1),A=Object(Ee.a)(x,2),L=A[0],R=A[1],B=function(){R(!0)},U=function(e,t){"clickaway"!==t&&R(!1)};return r.a.createElement("div",null,r.a.createElement(be.a,{open:t,onClose:a,"aria-labelledby":"add-category-title","aria-describedby":"add-category-description"},r.a.createElement(fe.a,{id:"add-category-title"},"ADD NEW CATEGORY"),r.a.createElement(ye.a,{className:s.window},r.a.createElement("div",{className:s.pickersBlock},r.a.createElement(ve.a,{className:s.datePicker,margin:"dense",id:"datePicker",label:"Current date*",type:"date",fullWidth:!0,onChange:M,value:j,error:10!==j.length}),r.a.createElement(ve.a,{autoFocus:!0,className:s.iconPicker,id:"selectIcon",select:!0,margin:"dense",label:"Select category icon*",value:I,onChange:M,error:"string"===typeof I,fullWidth:!0},Object(h.a)(i.map((function(e,t){return r.a.createElement(Ce.a,{key:t,value:e,className:s.iconSelect},e)}))))),r.a.createElement("div",null,r.a.createElement(ve.a,{margin:"dense",id:"nameInput",label:"Category name*",type:"text",fullWidth:!0,onChange:M,onKeyUp:M,value:p,error:p.length<3})),r.a.createElement("div",null,r.a.createElement(ve.a,{margin:"dense",id:"descriptionInput",label:"Category description",type:"text",fullWidth:!0,onChange:M,onKeyUp:M,value:y}))),r.a.createElement(Oe.a,null,r.a.createElement(ge.a,{onClick:T,color:"primary"},"Cancel"),r.a.createElement(ge.a,{onClick:T,color:"primary"},"Add"))),r.a.createElement(je.a,{open:L,autoHideDuration:4e3,onClose:U},r.a.createElement(gt,{onClose:U,severity:"success"},"Added successfully")))},ht=Object(pe.a)(Ie),bt=function(e){var t=e.name,a=e.description,c=e.date,o=e.icon,l=e.deleteCategory,i=e.updateCategory,s=e.icons,u=ht(),m=Object(n.useState)(null),d=Object(Ee.a)(m,2),g=d[0],p=d[1],E=Object(n.useState)(!1),h=Object(Ee.a)(E,2),b=h[0],f=h[1],y=new Date(1e3*(null===c||void 0===c?void 0:c.seconds)),v={year:y.getFullYear(),month:y.getMonth()+1<10?"0".concat(y.getMonth()+1):y.getMonth()+1,day:y.getDate()<10?"0".concat(y.getDate()):y.getDate()},C=Object(n.useState)({currentName:t,currentDescription:a,currentIcon:o,currentDate:null}),O=Object(Ee.a)(C,2),j=O[0],N=O[1],D=function(e){"Delete"===e.target.innerText?l():"Edit"===e.target.innerText&&(f(!0),N({currentName:t,currentDescription:a,currentIcon:o,currentDate:"".concat(v.year,"-").concat(v.month,"-").concat(v.day)})),p(null)};return r.a.createElement(Me.a,null,r.a.createElement(xe.a,{component:"th",scope:"row"},r.a.createElement("div",{className:u.categoryNameBlock},r.a.createElement("div",{className:u.categoryIcon},o),r.a.createElement("div",{className:u.categoryName},t))),r.a.createElement(xe.a,null,a),r.a.createElement(xe.a,null,"".concat(v.day,".").concat(v.month,".").concat(v.year)),r.a.createElement(xe.a,null,r.a.createElement(ge.a,{"aria-controls":"category-menu","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},size:"small"},r.a.createElement(Re.a,{color:"action"})),r.a.createElement(Ae.a,{id:"category-menu",anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:D},r.a.createElement(Ce.a,{onClick:D},"Edit"),r.a.createElement(Ce.a,{onClick:D},"Delete"),b&&r.a.createElement(Et,{open:b,handleClose:function(){f(!1)},icons:s,currentCategory:j,updateCategory:i}))))},ft=function(e){d.collection("charge-categories").add(e).catch((function(e){console.error("Error: ",e)}))},yt=Object(pe.a)(we),vt=function(e){var t=e.props,a=Object(n.useState)(!1),c=Object(Ee.a)(a,2),o=c[0],l=c[1],i=yt();return r.a.createElement("div",null,r.a.createElement("div",{className:i.addButtonWrapper},r.a.createElement(ge.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(Ve.a,null),onClick:function(){l(!0)}},"Add more")),r.a.createElement(Et,{open:o,handleClose:function(){l(!1)},updateCategory:ft,icons:t.icons}),r.a.createElement(Fe.a,{component:Pe.a,className:i.tableWrapper},r.a.createElement(Ge.a,{className:i.table},r.a.createElement(ze.a,{className:i.tableHead},r.a.createElement(Me.a,null,r.a.createElement(xe.a,null,"Category"),r.a.createElement(xe.a,null,"Description"),r.a.createElement(xe.a,null,"Date"),r.a.createElement(xe.a,null,"Action"))),r.a.createElement(Ye.a,null,Object(h.a)(t.chargeCategories.map((function(e,a){return r.a.createElement(bt,{name:e.name,description:e.description,date:e.date,icon:e.icon,key:a,deleteCategory:function(){var t;t=e.docId,d.collection("charge-categories").doc(t).delete().catch((function(e){console.error("Error: ",e)}))},updateCategory:function(t){var a,n;a=e.docId,n=t,d.collection("charge-categories").doc(a).set(n).catch((function(e){console.error("Error: ",e)}))},icons:t.icons})})))))))},Ct=function(e){d.collection("income-categories").add(e).catch((function(e){console.error("Error: ",e)}))},Ot=Object(pe.a)(we),jt=function(e){var t=e.props,a=Object(n.useState)(!1),c=Object(Ee.a)(a,2),o=c[0],l=c[1],i=Ot();return r.a.createElement("div",null,r.a.createElement("div",{className:i.addButtonWrapper},r.a.createElement(ge.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(Ve.a,null),onClick:function(){l(!0)}},"Add more")),r.a.createElement(Et,{open:o,handleClose:function(){l(!1)},updateCategory:Ct,icons:t.icons}),r.a.createElement(Fe.a,{component:Pe.a,className:i.tableWrapper},r.a.createElement(Ge.a,{className:i.table},r.a.createElement(ze.a,{className:i.tableHead},r.a.createElement(Me.a,null,r.a.createElement(xe.a,null,"Category"),r.a.createElement(xe.a,null,"Description"),r.a.createElement(xe.a,null,"Date"),r.a.createElement(xe.a,null,"Action"))),r.a.createElement(Ye.a,null,Object(h.a)(t.incomeCategories.map((function(e,a){return r.a.createElement(bt,{name:e.name,description:e.description,date:e.date,icon:e.icon,key:a,deleteCategory:function(){var t;t=e.docId,d.collection("income-categories").doc(t).delete().catch((function(e){console.error("Error: ",e)}))},updateCategory:function(t){var a,n;a=e.docId,n=t,d.collection("income-categories").doc(a).set(n).catch((function(e){console.error("Error: ",e)}))},icons:t.icons})})))))))},Nt=Object(pe.a)(_e),Dt=function(e){var t=Nt();return r.a.createElement(i.a,null,r.a.createElement("div",{className:t.Categories},r.a.createElement(ct,{title:"Categories"}),r.a.createElement("div",{className:t.sectionToggle},r.a.createElement(ge.a,{color:"primary"},r.a.createElement(i.b,{to:"/categories/charges",className:t.toggleButton,activeClassName:t.toggleButtonActive},"Charges")),r.a.createElement(ge.a,{color:"primary"},r.a.createElement(i.b,{to:"/categories/incomes",className:t.toggleButton,activeClassName:t.toggleButtonActive},"Incomes"))),r.a.createElement("div",null,r.a.createElement(l.b,{exact:!0,path:"/categories/"},r.a.createElement(l.a,{to:"/categories/charges"})),r.a.createElement(l.b,{path:"/categories/charges",render:function(){return r.a.createElement(vt,{props:e})}}),r.a.createElement(l.b,{path:"/categories/incomes",render:function(){return r.a.createElement(jt,{props:e})}}))))},_t=Object(q.b)((function(e){return{icons:e.icons,incomeCategories:e.incomeCategories,chargeCategories:e.chargeCategories}}),null)(Dt),It=a(34),wt=a.n(It),St=function(e){var t=e.img,a=e.updateInState;return r.a.createElement("div",{className:wt.a.avatar},r.a.createElement("label",{htmlFor:"file-input",className:wt.a.avatar_inner},r.a.createElement("img",{src:t,alt:"avatar"})),r.a.createElement("input",{id:"file-input",type:"file",style:{display:"none"},onChange:function(e){e.target.files[0]&&a(e.target.files[0])}}))},kt=a(341),Tt=function(e){var t=e.title,a=e.limit,n=e.setLimit,c=e.step,o=e.disabled;return r.a.createElement("div",null,r.a.createElement("h3",null,"Remain ",t),r.a.createElement("span",{className:wt.a.limit},a),r.a.createElement(kt.a,{disabled:o,color:"primary","aria-label":"outlined primary button group"},r.a.createElement(ge.a,{onClick:function(){n("amount"===t?a>100?a-c:100:a>10?a-c:10)}},"-"),r.a.createElement(ge.a,{onClick:function(){n("percent"===t?a<90?a+c:90:a+c)}},"+")))},Mt=a(136),xt=a.n(Mt),At=a(342),Lt=a(349),Rt=(a(272),function(e){var t=Object(n.useState)(null),a=Object(Ee.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(e.avatar),i=Object(Ee.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(e.userName),p=Object(Ee.a)(m,2),E=p[0],h=p[1],b=Object(n.useState)(e.phoneNumber),f=Object(Ee.a)(b,2),y=f[0],v=f[1],C=Object(n.useState)(e.showWarning),O=Object(Ee.a)(C,2),j=O[0],N=O[1],D=Object(n.useState)(e.moneyLimit),_=Object(Ee.a)(D,2),I=_[0],w=_[1],S=Object(n.useState)(e.percentLimit),k=Object(Ee.a)(S,2),T=k[0],M=k[1],x=Object(n.useState)(!1),A=Object(Ee.a)(x,2),L=A[0],R=A[1];Object(n.useEffect)((function(){u(e.avatar),h(e.userName),v(e.phoneNumber),N(e.showWarning),w(e.moneyLimit),M(e.percentLimit)}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(St,{img:s,updateInState:o}),r.a.createElement("div",{className:wt.a.main},r.a.createElement("div",{className:wt.a.main_inner},r.a.createElement(ve.a,{fullWidth:!0,variant:"outlined",label:"Name",id:"name",value:E,onChange:function(e){h(e.target.value)}}),r.a.createElement(xt.a,{inputStyle:{width:"100%"},id:"phone",value:y,country:"ua",onChange:function(e){return v(e)}})),r.a.createElement("div",{className:wt.a.main_inner},r.a.createElement("div",null,r.a.createElement(At.a,{control:r.a.createElement(Lt.a,{checked:j,onChange:function(){N(!j)}}),label:"Warn me when remains:"})),r.a.createElement(Tt,{title:"amount",limit:I,setLimit:w,step:100,disabled:!j}),r.a.createElement(Tt,{title:"percent",limit:T,setLimit:M,step:5,disabled:!j})),r.a.createElement("div",{className:wt.a.settings_button},r.a.createElement(ge.a,{variant:"contained",color:"primary",onClick:function(){c?function(e,t,a,n,r,c,o,l){l(!0),setTimeout((function(){return l(!1)}),2e3);var i=g.ref("images/avatar.jpg").put(t);console.log("start of upload"),i.on("state_changed",(function(){g.ref("images").child("avatar.jpg").getDownloadURL().then((function(t){d.collection("user-info").doc("INFO").set({avatar:t,userName:a,phoneNumber:n,showWarning:r,moneyLimit:c,percentLimit:o}).then((function(){console.log("Document successfully written with avatar!")})).catch((function(e){console.error("Error: ",e)})),e(null)}))}))}(o,c,E,y,j,I,T,R):function(e,t,a,n,r,c,o){o(!0),setTimeout((function(){return o(!1)}),2e3),d.collection("user-info").doc("INFO").set({avatar:e,userName:t,phoneNumber:a,showWarning:n,moneyLimit:r,percentLimit:c}).then((function(){console.log("Document successfully written without avatar!")})).catch((function(e){console.error("Error: ",e)}))}(s,E,y,j,I,T,R)}},"SAVE")),L&&r.a.createElement(Ne.a,{style:{marginTop:"50px"},variant:"outlined",severity:"success"},"Your profile has been updated")))}),Bt=Object(q.b)((function(e){return Object(s.a)({},e.settings)}),null)(Rt),Ut=Object(q.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppThunk:function(){return function(e){var t=e((function(e){d.collection("user-info").onSnapshot((function(t){e({type:"UPDATE_USER",newUser:t.docs[0].data()})}))})),a=e((function(e){d.collection("charges1").onSnapshot((function(t){e({type:"FETCH_CHARGES",charges:t.docs.map((function(e){var t=e.data();return Object(s.a)(Object(s.a)({},t),{},{docId:e.id})}))})}))})),n=e((function(e){d.collection("incomes1").onSnapshot((function(t){e(Y(t.docs.map((function(e){var t=e.data();return Object(s.a)(Object(s.a)({},t),{},{docId:e.id})}))))}))})),r=e((function(e){d.collection("charge-categories").onSnapshot((function(t){e({type:"FETCH_CHARGE_CATEGORIES",categories:t.docs.map((function(e){var t=e.data();return Object(s.a)(Object(s.a)({},t),{},{icon:B[t.icon],docId:e.id})}))})}))})),c=e((function(e){d.collection("income-categories").onSnapshot((function(t){e({type:"FETCH_INCOME_CATEGORIES",categories:t.docs.map((function(e){var t=e.data();return Object(s.a)(Object(s.a)({},t),{},{icon:B[t.icon],docId:e.id})}))})}))}));Promise.all([t,a,n,r,c]).then((function(){e({type:"SET_INITIALIZED"})}))}}})((function(e){return Object(n.useEffect)((function(){e.initializeAppThunk()}),[]),r.a.createElement("div",{className:"app"},r.a.createElement(de,null),e.initialized&&r.a.createElement("main",null,r.a.createElement(l.b,{exact:!0,path:"/"},r.a.createElement(l.a,{to:"/homepage"})),r.a.createElement(l.b,{path:"/homepage",render:function(){return r.a.createElement(it,null)}}),r.a.createElement(l.b,{path:"/charts",render:function(){return r.a.createElement(dt,null)}}),r.a.createElement(l.b,{path:"/categories",render:function(){return r.a.createElement(_t,null)}}),r.a.createElement(l.b,{path:"/settings",render:function(){return r.a.createElement(Bt,null)}})))})),Wt=function(e){return r.a.createElement(i.a,null,r.a.createElement(q.a,{store:ee},r.a.createElement(Ut,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Wt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,a){e.exports={main:"Settings_main__16Kiz",avatar:"Settings_avatar__ARlQ5",main_inner:"Settings_main_inner__2WpM1",settings_button:"Settings_settings_button__2xvbU"}},53:function(e,t,a){e.exports={header:"Header_header__2SmAX",header__warning:"Header_header__warning__1ASRu",header_category:"Header_header_category__OWtG-",header_balance:"Header_header_balance__3fAvu",header_balance__title:"Header_header_balance__title__3OQ9E",header_balance__amount:"Header_header_balance__amount__1fhxV",header_balance__red:"Header_header_balance__red__1Ianv"}}},[[152,1,2]]]);
//# sourceMappingURL=main.3da50119.chunk.js.map